:root{
  --bg:#0b1220; --fg:#e5e7eb; --card:#0f172a; --muted:#94a3b8;
  --brand:#0033a0; --accent:#ff6a13; /* BD.com palette */
  --ok:#2a9d8f; --warn:#f4a261; --bad:#e63946;
}

/* Reset-ish */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#0b1220;color:var(--fg);font:14px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial}

/* Header with BD gradient */
header{
  display:flex;align-items:center;gap:12px;padding:14px 16px;
  background:linear-gradient(90deg,#001a66 0%, var(--brand) 45%, var(--accent) 100%);
  color:#fff;
}
header img{width:84px;height:84px}
header h1{font-size:26px;margin:0;font-weight:900;color:var(--accent);text-shadow:0 1px 2px rgba(0,0,0,.45)}

.container{max-width:1180px;margin:14px auto;padding:0 14px}
.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin:8px 0 14px}
.ml-auto{margin-left:auto}
.mt-12{margin-top:12px}
.section-title{color:#9fd3ff;font-weight:800;margin:6px 0 2px}
.row{display:flex;gap:12px;align-items:center;margin:6px 0;flex-wrap:wrap}
.hint{color:#9ca3af;font-size:12px}

/* Settings rows aligned like the earlier layout */
#settingsPanel .row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin:6px 0; }
#settingsPanel .row label.inline {
  display:grid; grid-template-columns: 150px 1fr; align-items:center; gap:8px;
  min-width:340px;
}

/* Inputs & buttons */
select,button,input[type="time"],input[type="text"],input[type="range"],input[type="file"],input[type="checkbox"]{
  background:#0b1220;color:#e5e7eb;border:1px solid #334155;border-radius:10px;padding:6px 10px;
  transition:transform .12s ease, box-shadow .12s ease;
}
button{cursor:pointer}
button.primary{background:#3b82f6;border-color:#3b82f6}
button.danger{background:#ef4444;border-color:#ef4444}
button.success{background:var(--ok);border-color:var(--ok);color:#062b24}
button.ghost{background:transparent;border-color:#334155}
.escalation{background:#3b82f6;border-color:#3b82f6}
.escalation.on{background:#ef4444;border-color:#ef4444}

/* Time panel */
.time-container{display:flex;align-items:center;gap:16px;flex-wrap:wrap;padding:16px;border-radius:14px;background:#0c1a30;border:1px solid #24324a}
.time-container .clock{font-size:3.2rem;font-weight:900;letter-spacing:1px}
.time-metadata{display:flex;flex-direction:column;gap:4px}
.time-container .countdown{font-size:1.35rem;font-weight:800;color:#60a5fa}
.time-container .expected-status{font-size:1.1rem;font-weight:700}
.subtle-date{color:#9ca3af;font-size:.95rem}

.time-container.state-upcoming .clock,.time-container.state-upcoming .expected-status{color:var(--ok)}
.time-container.state-nearing  .clock,.time-container.state-nearing  .expected-status{color:var(--warn)}
.time-container.state-overdue  .clock,.time-container.state-overdue  .expected-status{color:var(--bad)}

/* Timeline with ticks, markers, and reliable fill */
.timeline{position:relative;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden;margin:12px 0}
.timeline-progress{position:absolute;inset:0;background:linear-gradient(90deg,#2a9d8f,#457b9d);transform-origin:left;transform:scaleX(0);z-index:1}
.timeline-ticks{position:absolute;inset:-16px 0 auto 0;display:flex;justify-content:space-between;pointer-events:none;font-size:11px;color:#cbd5e1;z-index:3}
.timeline-ticks span{position:relative}
.timeline-ticks span::before{content:"";position:absolute;left:50%;transform:translateX(-50%);top:16px;width:2px;height:10px;background:#94a3b8}
/* event markers */
.timeline-events{position:absolute;inset:0;z-index:2}
.timeline-events .mark{position:absolute;top:-3px;width:14px;height:14px;border-radius:50%;border:2px solid #0b1220;box-shadow:0 0 0 2px rgba(0,0,0,.2);transform:translateX(-50%);background:#9ca3af}
.timeline-events .mark.onqueue   { background:#38bdf8 }
.timeline-events .mark.available { background:#22c55e }
.timeline-events .mark.c2c       { background:#818cf8 }
.timeline-events .mark.break     { background:#f4a261 }
.timeline-events .mark.meal      { background:#ffb703 }
.timeline-events .mark.meeting   { background:#60a5fa }
.timeline-events .mark.busy      { background:#ef4444 }
.timeline-events .mark.shiftend  { background:#9ca3af }

/* Status buttons */
.status-buttons{display:flex;gap:8px;flex-wrap:wrap;background:#0b1220;border:1px solid #334155;border-radius:12px;padding:10px}
.status-buttons button i{margin-right:6px}
.status-buttons button.expected{outline:2px solid var(--ok)}
.status-buttons button.current{outline:2px solid #60a5fa}
.status-buttons button.ack-ok{background:var(--ok);border-color:var(--ok);color:#062b24}
.status-buttons button.ack-wrong{background:var(--bad);border-color:var(--bad)}

/* Schedule cards + inline editor */
#scheduleCards{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
.schedule-card{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem;padding:.6rem .85rem;border-radius:14px;background:#0b1220;border-left:8px solid #3b82f6}
.schedule-card .card-time{font-weight:800}
.upcoming-card{border-left-color:var(--ok)}
.nearing-card{border-left-color:var(--warn)}
.overdue-card{border-left-color:var(--bad)}
.inline-editor{background:#0b1220;border:1px solid #334155;border-radius:12px;padding:10px;margin-bottom:10px}

/* Settings panel container */
#settingsPanel[hidden]{display:none !important}
#settingsPanel{background:#0b1220;border:1px solid #334155;border-radius:12px;padding:14px;margin-bottom:12px}

/* Sliders with color gradient */
input[type="range"]{width:180px;height:6px;padding:0;border-radius:999px;appearance:none;background:linear-gradient(90deg,var(--ok),var(--warn),var(--bad))}
input[type="range"]::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:#fff;border:2px solid #3b82f6;margin-top:-5px}
input[type="range"]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#fff;border:2px solid #3b82f6}

/* Planner (smaller scale + responsive) */
.planner-wrap{overflow:auto}
#weekTable{width:100%;min-width:820px;table-layout:fixed;background:#0b1220;border:1px solid #334155;border-radius:12px;overflow:hidden;font-size:12px;border-collapse:separate;border-spacing:0}
#weekTable th,#weekTable td{border:1px solid #334155;vertical-align:top;position:relative}
#weekTable th{padding:10px 8px 24px;line-height:1}         /* extra bottom padding for + button */
#weekTable th .add{position:absolute;right:6px;top:6px;z-index:1}
#weekTable td{padding:5px 6px;min-height:110px}
#weekTable th.selected{background:var(--accent);color:#0b1220;border-color:var(--accent)}
#weekTable td.selected{outline:2px solid #60a5fa;outline-offset:-2px;background:#0f1b2d}

/* Planner event chips */
.event-item{background:#1f2937;color:#e5e7eb;padding:.28rem .4rem;border-radius:8px;margin:.25rem 0;cursor:grab;border-left:6px solid #3b82f6;display:flex;justify-content:space-between;align-items:center;gap:6px}
.event-item .kill,.event-item .edit{background:transparent;border:1px solid #475569;border-radius:6px;padding:0 6px;height:22px}
.event-item.break{border-left-color:var(--warn)}
.event-item.meal{border-left-color:#ffb703}
.event-item.meeting{border-left-color:#60a5fa}
.event-item.available{border-left-color:#22c55e}
.event-item.onqueue{border-left-color:#38bdf8}
.event-item.c2c{border-left-color:#818cf8}
.event-item.shiftend{border-left-color:#9ca3af}

/* Popup */
.popup{position:fixed;z-index:50;inset:auto 16px 16px auto;background:#0b1220;border:1px solid #334155;border-radius:12px;padding:12px;min-width:240px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.popup[hidden]{display:none}
.popup-title{font-weight:800;margin-bottom:8px}
.popup label{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:4px 0}
.popup-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}

/* Hover niceties */
@media (hover:hover) and (pointer:fine){
  @media (prefers-reduced-motion:no-preference){
    button:hover, .schedule-card:hover, .event-item:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(0,0,0,.25)}
    button:active{transform:translateY(0)}
  }
}
